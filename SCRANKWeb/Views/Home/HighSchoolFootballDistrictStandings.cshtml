
@using System.Data
@model HighSchoolFootballRankingsModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<html>
<head>
    <style>
        table {
          border-collapse: collapse;
        }

        th {
            background-color: cornflowerblue;
            color: white;
            padding: 5px 20px 5px 1px;
        }

        td {
          text-align: left;
          padding: 5px 20px 5px 0;
        }
        tr:nth-child(even) {background-color: #f2f2f2;}

        .nav-link active{
            background-color: cornflowerblue;
            color: white;
            padding: 5px 20px 5px 0;
        }
        
    </style>  
    </head>
    <body>
        <h1><img src=@Model.strStateLogo style="height: 1.5em"> @Model.strStateLong High School Football Rankings</h1>
        <nav class="nav nav-pills navbar-right">
            @foreach (DataRow season in @Model.dtSeasons.Rows)
            {

                    <a class="nav-link text-dark" style="font-size:1em;" asp-action="HighSchoolFootballDistrictStandings" asp-route-pstrClass="@Model.strClass" asp-route-pintSeason=@season["fintSeason"] asp-route-pstrRankingView="@Model.strRankingView" asp-route-pstrState="@Model.strState">@season["fintSeason"]</a>
            }
        </nav>

        <nav class="nav nav-pills navbar-right">
            @foreach (DataRow classification in @Model.dtClasses.Rows)
            {
                @if (@classification["fstrClass"].ToString() == "5A")
                {
                <a class="nav-link text-dark" asp-action="HighSchoolFootballRankings" asp-route-pstrClass=@classification["fstrClass"] asp-route-pintSeason="@Model.intSeason" asp-route-pstrRankingView="Power" asp-route-pstrState="@Model.strState">@classification["fstrClass"]</a>
                }
                else
                {
                    <a class="nav-link text-dark" asp-action="HighSchoolFootballDistrictStandings" asp-route-pstrClass=@classification["fstrClass"] asp-route-pintSeason="@Model.intSeason" asp-route-pstrRankingView="@Model.strRankingView" asp-route-pstrState="@Model.strState">@classification["fstrClass"]</a>
                }
        
            }
        </nav>
        <nav class="nav nav-pills navbar-right">
            <a class="nav-link text-dark" asp-action="HighSchoolFootballRankings" asp-route-pstrClass="@Model.strClass" asp-route-pintSeason="@Model.intSeason" asp-route-pstrRankingView="Power" asp-route-pstrState="@Model.strState">Power Rankings</a>
            <a class="nav-link text-dark" asp-action="HighSchoolFootballRankings" asp-route-pstrClass="@Model.strClass" asp-route-pintSeason="@Model.intSeason" asp-route-pstrRankingView="RPI" asp-route-pstrState="@Model.strState">RPI</a>
            <a class="nav-link text-dark" asp-action="HighSchoolFootballRankings" asp-route-pstrClass="@Model.strClass" asp-route-pintSeason="@Model.intSeason" asp-route-pstrRankingView="SOV" asp-route-pstrState="@Model.strState">SCRANK SOV</a>
            @if (@Model.strClass != "5A")
            {
                <a class="nav-link text-dark" asp-action="HighSchoolFootballDistrictStandings" asp-route-pstrClass="@Model.strClass" asp-route-pintSeason="@Model.intSeason" asp-route-pstrRankingView="District" asp-route-pstrState="@Model.strState">District Standings</a>
            }
        </nav>

    <div class="container-fluid">
        <h3>@Model.intSeason Class @Model.strClass District Standings</h3><br>
        <div class="row row-cols-auto">
            
             @foreach (DataRow district in @Model.dtDistricts.Rows)
             {   
            
                        <div class="col-auto">
                
                                <table>    
                                        <thead>
                                            <tr>
                                            <th colspan="2">District @district["fintDistrict"] Standings</th>
                                            <th>DW</th>
                                            <th>DL</th>
                                            <th>W</th>
                                            <th>L</th>
                                            <th>Point Diff.</th>
                                            </tr>
                                    </thead>

                                    <tbody>
                                        @{
                                            int counter = 1;

                                            @foreach (DataRow team in @Model.dtDistrictStandings.Select("fintDistrict = " + @district["fintDistrict"] + " AND fstrClass = '" + @Model.strClass + "'"))
                                            {
                                                <tr>
                                                <td>@counter</td>
                                                <td width="280px"><img src="@team["fimgLogo"]" style="height:2em" id="imageBox"> @team["fstrSchoolName"]</td>
                                                <td>@team["fintDistrictWins"]</td>
                                                <td>@team["fintDistrictLosses"]</td>
                                                <td>@team["fintWins"]</td>
                                                <td>@team["fintLosses"]</td>
                                                <td>@team["flngDistricPointDifferential"]</td>
                                                </tr>
                                            ++counter;
                                            }
                                        }
                                    </tbody>
                                </table><br>    
                        </div>
                        
              
             }
        </div>
    </div>
</body>
</html>


